import {OrderId} from "../value-object/";

export class Order {
    private readonly id: OrderId;
    private readonly orderNumber: string;
    private readonly createAt: Date;
    private readonly customerId: string;

    private  orderStatus: string;
    private  subtotal: number;
    private  vatAmount: number;
    private  totalAmount: number;
    private  currency: string;
    private  paymentMethod: string;
    private  paymentStatus: string;
    private  notes: string;
}

//Основни атрибути:
// Уникален идентификатор на поръчката
// Номер на поръчка (автоматично генериран)
// Дата и час на създаване
// Статус на поръчката
// Обща сума преди данъци
// Сума на ДДС (20%)
// Крайна сума за плащане
// Валута (BGN)
// Начин на плащане
// Статус на плащането (платена/неплатена)
// Бележки към поръчката
// Връзка към клиента (customer)
//
// Статуси на поръчката:
// NEW - Нова поръчка, току-що създадена
// CONFIRMED - Потвърдена от оператор
// PROCESSING - В процес на подготовка
// SHIPPED - Изпратена за доставка
// DELIVERED - Доставена успешно
// CANCELLED - Отменена
// RETURNED - Върната
//
// Бизнес правила:
// Всяка поръчка трябва да има поне един продукт
// Общата сума се изчислява автоматично
// След потвърждение, поръчката не може да бъде редактирана директно
// Статусите следват логическа последователност
// Order Management
// Създаване на поръчка:
// Валидация на всички данни преди запазване
// Автоматично изчисляване на суми
// Генериране на уникален номер
// Създаване на първоначален статус (NEW)
// Изпращане на потвърдителен имейл
//
// Редактиране на поръчка:
// Възможно само при статус NEW или CONFIRMED
// При промяна на продукти - преизчисляване на суми
// Запазване на история на промените
// Уведомяване на клиента при съществени промени
//
// Проследяване на статус:
// Хронологична история на всички промени
// Автоматични имейли при ключови статуси
// Възможност за клиента да проследи онлайн